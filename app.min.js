// Specify actions that will take place before the tool's configuration is loaded into the manager.
Alteryx.Gui.BeforeLoad = function(manager, AlteryxDataItems){
  console.log("Before Load ---");
};

function displaySeed(manager){
  var displaySeed = manager.GetDataItem('displaySeed')
  var seedDiv = document.getElementById('input-seed');
  seedDiv.style.display = displaySeed.value ? 'block' : 'none'
  displaySeed.BindUserDataChanged(function(v){
    seedDiv.style.display = v ? 'block' : 'none'
  })
}

function controlDisplaySeed(manager){
  var displaySeed = manager.GetDataItem('displaySeed')
  var metaInfoS = manager.incomingMetaInfo[2]
  if (metaInfoS){
    var fields = metaInfoS.MetaInfo.RecordInfo.Field.map(function(d){
      return d["@name"]
    })
    if (fields.indexOf('seed') >= 0){
      displaySeed.setValue(false)
    } else {
      displaySeed.setValue(true)
    }
  } else {
    displaySeed.setValue(true)
  }
}

// Specify actions that will take place after the tool configuration is loaded into the manager
Alteryx.Gui.AfterLoad = function(manager){
  console.log("After Load ---");
  var resname = manager.GetDataItem("results.name")
  if (resname.value === "") resname.setValue("Score")
  controlDisplaySeed(manager)
  displaySeed(manager)
};

// Annotation on canvas
Alteryx.Gui.Annotation = function(manager){

};